"Global config"
type Config @entity {
  "Singleton with ID `only`"
  id: ID!

  "Current day of event"
  currentDay: Int!

  "Current witch traits"
  witchCostume: Costume
}

"Global stats"
type Stat @entity {
  "Singleton with ID `only`"
  id: ID!

  "Number of tokens currently staked"
  totalStaked: Int!

  "Number of tokens converted to ghouls"
  totalGhouls: Int!
}

"Tracks related Randomizer requests"
type Random @entity {
  id: ID!

  "Token associted with random request, if applicable"
  token: Token

  "Day for witch costume associated with random request, if applicable"
  witchDay: Int
}

"Tracks related Randomizer commits"
type Seeded @entity {
  id: ID!

  "Random requests related to this commit"
  randoms: [Random!]!
}

"Collection of traits"
type Costume @entity {
  id: ID!

  "Trait value for face"
  face: Int

  "Trait value for smile"
  smile: Int

  "Trait value for hat"
  hat: Int

  "Trait value for item"
  item: Int

  "Trait value for background"
  background: Int
}

"NFTs that participate in Smoloween"
type Token @entity {
  id: ID!

  "Token ID"
  tokenId: BigInt!

  "True if token is staked in Smoloween contract"
  isStaked: Boolean!

  "User that initiated the stake, if applicable"
  stakingUser: Bytes

  "True if token has been converted to a ghoul"
  isGhoul: Boolean!

  "Token's traits, if applicable"
  costume: Costume
}

"Instance of a ghoul attacking a Smol"
type Attack @entity {
  id: ID!

  "User who initiated the attack"
  user: Bytes!

  "Token that is performing the attack"
  attacker: Token!

  "Token that is the target of the attack"
  target: Token!

  "Day this attack is being performed"
  day: Int!
}

"Instance of a sidekick copying a trait"
type Mission @entity {
  id: ID!

  "user who initiated the copy"
  user: Bytes!

  "Sidekick that is performing the copy"
  sidekickId: BigInt!

  "Token that is the target of the copy"
  target: Token!

  "Trait that is being copied"
  trait: Int!

  "Day this copy is being performed"
  day: Int!
}
