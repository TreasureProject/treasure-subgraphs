enum Interval {
  Hourly
  Daily
  Weekly
  Monthly
  Yearly
  AllTime
}

enum LegionGeneration {
  Genesis
  Auxiliary
  Recruit
}

enum LegionRarity {
  Legendary
  Rare
  Special
  Uncommon
  Common
  None
}

interface Stat {
  startTimestamp: BigInt
  endTimestamp: BigInt
}

type User @entity {
  id: ID!
  magicDepositCount: Int!
  magicWithdrawCount: Int!
  magicHarvestCount: Int!
  magicDeposited: BigInt!
  magicWithdrawn: BigInt!
  magicHarvested: BigInt!
  summonsStarted: Int!
  summonsFinished: Int!
}

type Legion @entity {
  id: ID!
  tokenId: BigInt!
  generation: LegionGeneration!
  rarity: LegionRarity!
  name: String!
}

type AtlasMineLockStat implements Stat @entity {
  id: ID!
  startTimestamp: BigInt
  endTimestamp: BigInt
  atlasMineStat: AtlasMineStat!
  lock: Int!
  magicDepositCount: Int!
  magicDeposited: BigInt!
}

type AtlasMineStat implements Stat @entity {
  id: ID!

  "Internal for tracking unique addresses"
  _activeAddresses: [String!]!

  startTimestamp: BigInt
  endTimestamp: BigInt
  interval: Interval!
  magicDepositCount: Int!
  magicWithdrawCount: Int!
  magicHarvestCount: Int!
  magicDeposited: BigInt!
  magicWithdrawn: BigInt!
  magicHarvested: BigInt!
  activeAddressesCount: Int!
  lockStats: [AtlasMineLockStat!]! @derivedFrom(field: "atlasMineStat")
}

type Pilgrimage @entity {
  id: ID!

  current: Int!
  total: Int!
}

type SummoningStat implements Stat @entity {
  id: ID!

  "Internal for tracking unique addresses"
  _activeAddresses: [String!]!

  startTimestamp: BigInt
  endTimestamp: BigInt
  interval: Interval!
  summonsStarted: Int!
  summonsFinished: Int!
  activeAddressesCount: Int!
  legionStats: [SummoningLegionStat!]! @derivedFrom(field: "summoningStat")
}

type SummoningLegionStat implements Stat @entity {
  id: ID!
  startTimestamp: BigInt
  endTimestamp: BigInt
  summoningStat: SummoningStat!
  generation: LegionGeneration!
  rarity: LegionRarity!
  name: String!

  "Number of Summons started by this type of Legion"
  summonsStarted: Int!

  "Number of Summons finished by this type of Legion"
  summonsFinished: Int!

  "Number of Summons that have resulted in the creation of this type of Legion"
  summonedCount: Int!
}
